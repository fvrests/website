---
import Layout from '~/layouts/Layout.astro';
import Wrapper from '~/components/wrapper.astro';
import Prose from '~/components/prose.astro';
import Link from '~/components/link.astro';
import Heading from '~/components/text/heading.astro';
import type { Post } from '~/content/config';

type Props = {
	frontmatter: Post;
};

const { title, publishDate, description, cover, coverAlt } =
	Astro.props.frontmatter;
---

<Layout {title} {description}>
	<main>
		<Wrapper>
			<Heading Element="h1">{title}</Heading>
			<div class="mt-1 text-sm capitalize">
				<span>note</span>
				<span class="px-1">|</span>
				<span class="tabular-nums">
					{publishDate}
				</span>
			</div>
			{
				cover && (
					<>
						<div class="h-md" />
						<div class="flex max-h-[600px] w-full items-center justify-center overflow-hidden rounded-xl">
							<img
								class="h-auto w-full rounded-xl"
								src={cover}
								alt={coverAlt}
							/>
						</div>
					</>
				)
			}
			<div class="h-md"></div>
			<Prose>
				<slot />
			</Prose>
			<div class="h-xl"></div>
			<Link
				href="/notes"
				class="backlink text-sm font-bold uppercase tracking-wide hover:text-f-high hover:underline"
			>
				&Larr;&nbsp;&nbsp;Back to notes
			</Link>
		</Wrapper>
	</main>
</Layout>
